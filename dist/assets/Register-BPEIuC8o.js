import{u as h,r as i,j as s,A as v}from"./index-D2KaLZNc.js";import{v as j,a as P,U as x,P as b}from"./PasswordChecklist-em9FOc2c.js";import{F as y,a as C,b as F}from"./FormButton-D_UYJ-45.js";import{P as u}from"./PasswordField-DTg_QMIC.js";import{A as S}from"./AuthInfo-DDS1bpQo.js";function E(){const c=h(),[l,r]=i.useState(null),[f,n]=i.useState(!1),[a,p]=i.useState({username:"",password:"",confirmPassword:""}),m=j(a.username),d=P(a.password,a.confirmPassword);function t(o){p({...a,[o.target.name]:o.target.value.trim()})}async function g(o){if(o.preventDefault(),r(null),n(!0),Object.values(m).some(e=>!e)||Object.values(d).some(e=>!e)){n(!1),r("Please fix validation errors");return}try{const e=await fetch("https://blog-backend-production-16f8.up.railway.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),w=await e.json();if(!e.ok){r(w.message||"Registration failed");return}c("/login")}catch{r("Network error")}finally{n(!1)}}return s.jsxs(y,{width:400,name:"Register",onSubmit:g,children:[s.jsx(C,{label:"Username",name:"username",value:a.username,onChange:t}),s.jsx(x,{username:a.username,validations:m}),s.jsx(u,{label:"Password",name:"password",value:a.password,onChange:t}),s.jsx(u,{label:"Confirm Password",name:"confirmPassword",value:a.confirmPassword,onChange:t}),s.jsx(b,{pass:a.password,confirmPass:a.confirmPassword,validations:d}),s.jsx(v,{error:l,children:l}),s.jsx(F,{name:"Register",disabled:f}),s.jsx(S,{desc:"Already have an account?",link:"Login",nav:"/login"})]})}export{E as default};
